(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7923:function(e,t,r){Promise.resolve().then(r.bind(r,2967))},2967:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var i=r(7437),a=r(2265),s=r(1994),n=r(3335);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}var d=r(8239);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"up",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return{hidden:{opacity:0,...{up:{y:20},down:{y:-20},left:{x:20},right:{x:-20}}[e]||{y:20}},visible:{opacity:1,x:0,y:0,transition:{duration:t}}}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return{hidden:{opacity:0},visible:{opacity:1,transition:{duration:e}}}},u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},m={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.4,ease:"easeOut"}}},x={rest:{scale:1},hover:{scale:1.03},tap:{scale:.98}},f={rest:{y:0,boxShadow:"0 1px 3px 0 rgba(0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1)"},hover:{y:-5,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1)",transition:{duration:.2}}},p={hidden:{scale:.8,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:300,damping:20}}},h={hidden:{x:-10,opacity:0},visible:{x:0,opacity:1,transition:{type:"spring",stiffness:300,damping:20}},shake:{x:[-10,10,-10,10,0],transition:{duration:.5}}};d.E.div,d.E.button,d.E.div,d.E.input,d.E.textarea,a.forwardRef((e,t)=>{let{className:r,animated:a=!1,...s}=e;return a?(0,i.jsx)(d.E.div,{ref:t,className:o("rounded-lg border bg-card text-card-foreground shadow-xs",r),variants:f,whileHover:"hover",...s}):(0,i.jsx)("div",{ref:t,className:o("rounded-lg border bg-card text-card-foreground shadow-xs",r),...s})}).displayName="Card";let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("flex flex-col space-y-1.5 p-6",r),...a})});g.displayName="CardHeader";let y=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("h3",{ref:t,className:o("text-2xl font-semibold leading-none tracking-tight",r),...a})});y.displayName="CardTitle";let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("p",{ref:t,className:o("text-sm text-muted-foreground",r),...a})});b.displayName="CardDescription";let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("p-6 pt-0",r),...a})});v.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("div",{ref:t,className:o("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter",a.forwardRef((e,t)=>{let{className:r,animated:a=!1,...s}=e;return a?(0,i.jsx)(d.E.textarea,{className:o("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},whileFocus:{scale:1.01,borderColor:"hsl(222.2, 84%, 4.9%)"},ref:t,...s}):(0,i.jsx)("textarea",{className:o("flex min-h-[80px] w-full rounded-md border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})}).displayName="Textarea",a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,animated:n=!1,...l}=e;return n?(0,i.jsx)(d.E.button,{className:o("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===a,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===a,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline-solid"===a,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===a,"text-primary underline-offset-4 hover:underline":"link"===a,"h-10 px-4 py-2":"default"===s,"h-9 rounded-md px-3":"sm"===s,"h-11 rounded-md px-8":"lg"===s,"h-8 rounded-md px-3":"icon"===s},r),variants:x,whileHover:"hover",whileTap:"tap",ref:t,...l}):(0,i.jsx)("button",{className:o("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===a,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===a,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline-solid"===a,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===a,"text-primary underline-offset-4 hover:underline":"link"===a,"h-10 px-4 py-2":"default"===s,"h-9 rounded-md px-3":"sm"===s,"h-11 rounded-md px-8":"lg"===s,"h-8 rounded-md px-3":"icon"===s},r),ref:t,...l})}).displayName="Button";let N=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)("label",{ref:t,className:o("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...a})});N.displayName="Label";var j=r(7586);let w=a.forwardRef((e,t)=>{let{className:r,delay:a=0,duration:s=.5,children:n,...l}=e,u=c(s);return(0,i.jsx)(d.E.div,{ref:t,className:o("",r),variants:u,initial:"hidden",animate:"visible",transition:{delay:a,duration:s},...l,children:n})});w.displayName="FadeIn";let E=a.forwardRef((e,t)=>{let{className:r,direction:a="up",delay:s=0,duration:n=.5,children:c,...u}=e,m=l(a,n);return(0,i.jsx)(d.E.div,{ref:t,className:o("",r),variants:m,initial:"hidden",animate:"visible",transition:{delay:s,duration:n},...u,children:c})});E.displayName="SlideIn";let D=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(d.E.div,{ref:t,className:o("rounded-lg border bg-card text-card-foreground shadow-xs",r),variants:f,whileHover:"hover",...a})});D.displayName="AnimatedCard",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(d.E.div,{ref:t,className:o("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="AnimatedCardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(d.E.h3,{ref:t,className:o("text-2xl font-semibold leading-none tracking-tight",r),...a})}).displayName="AnimatedCardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(d.E.p,{ref:t,className:o("text-sm text-muted-foreground",r),...a})}).displayName="AnimatedCardDescription",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(d.E.div,{ref:t,className:o("p-6 pt-0",r),...a})}).displayName="AnimatedCardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(d.E.div,{ref:t,className:o("flex items-center p-6 pt-0",r),...a})}).displayName="AnimatedCardFooter";let C=a.forwardRef((e,t)=>{let{className:r,variant:a,size:s,...n}=e;return(0,i.jsx)(d.E.button,{className:o("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":"default"===a,"bg-destructive text-destructive-foreground hover:bg-destructive/90":"destructive"===a,"border border-input bg-background hover:bg-accent hover:text-accent-foreground":"outline-solid"===a,"bg-secondary text-secondary-foreground hover:bg-secondary/80":"secondary"===a,"text-primary underline-offset-4 hover:underline":"link"===a,"h-10 px-4 py-2":"default"===s,"h-9 rounded-md px-3":"sm"===s,"h-11 rounded-md px-8":"lg"===s,"h-8 rounded-md px-3":"icon"===s},r),variants:x,whileHover:"hover",whileTap:"tap",ref:t,...n})});C.displayName="AnimatedButton";let k=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,i.jsx)(d.E.textarea,{className:o("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},whileFocus:{scale:1.01,borderColor:"hsl(222.2, 84%, 4.9%)"},ref:t,...a})});k.displayName="AnimatedTextarea";let R=e=>{let{className:t,...r}=e;return(0,i.jsx)(d.E.div,{className:o("animate-pulse rounded-md bg-muted",t),initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},...r})},S=e=>{let{show:t=!1,onComplete:r,className:a,...s}=e,n=Array.from({length:15},(e,t)=>t);return(0,i.jsx)(j.M,{children:t&&(0,i.jsx)(d.E.div,{className:o("fixed inset-0 pointer-events-none z-50",a),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},...s,children:n.map(e=>{let t=2*e*Math.PI/n.length,a=100+100*Math.random();return(0,i.jsx)(d.E.div,{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:"hsl(".concat(360*Math.random(),", 100%, 60%)"),left:"50%",top:"50%"},initial:{x:0,y:0,scale:1,opacity:1},animate:{x:Math.cos(t)*a,y:Math.sin(t)*a,scale:[1,1.5,0],opacity:[1,1,0]},transition:{duration:.8+.4*Math.random(),ease:"easeOut"},onAnimationComplete:()=>e===n.length-1&&r&&r()},e)})})})};function T(){let[e,t]=(0,a.useState)(""),[r,s]=(0,a.useState)([]),[n,o]=(0,a.useState)(!0),[l,c]=(0,a.useState)(!1),[x,f]=(0,a.useState)(""),[T,A]=(0,a.useState)(""),[M,F]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/text"),t=await e.json();s(t)}catch(e){console.error("Error loading data:",e)}finally{o(!1)}})()},[]);let _=async i=>{if(i.preventDefault(),!e.trim()){f("Please enter some text"),A("error");return}try{c(!0),f(""),A("");let i=await fetch("/api/text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e})});if(!i.ok){let e=await i.json();throw Error(e.error||"Failed to save text")}let a=await i.json();s([a,...r]),t(""),f("Text saved successfully!"),A("success"),F(!0)}catch(e){console.error("Error saving text:",e),f(e.message||"Error saving text. Please try again."),A("error")}finally{c(!1)}};return(0,i.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8 animate-fade-in relative overflow-hidden",children:[(0,i.jsx)(S,{show:M,onComplete:()=>{F(!1)}}),(0,i.jsx)("div",{className:"max-w-2xl mx-auto relative z-10",children:(0,i.jsx)(w,{children:(0,i.jsxs)(D,{className:"overflow-hidden",children:[(0,i.jsxs)(g,{className:"text-center pb-4",children:[(0,i.jsx)(d.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,i.jsx)(y,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"Torba Text Storage"})}),(0,i.jsx)(b,{className:"mt-2 text-lg",children:"Save and retrieve your text entries"})]}),(0,i.jsxs)(v,{className:"px-6 pb-6",children:[(0,i.jsx)(E,{direction:"up",delay:.1,children:(0,i.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)(N,{htmlFor:"textInput",className:"text-base",children:"Enter your text"}),(0,i.jsx)(k,{id:"textInput",value:e,onChange:e=>t(e.target.value),placeholder:"Type your text here...",rows:4,disabled:l,className:"text-base"})]}),(0,i.jsxs)(C,{type:"submit",disabled:l,className:"w-full py-6 text-lg font-semibold transition-all duration-300 hover:shadow-lg",variant:"default",size:"default",children:[l?(0,i.jsx)(d.E.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mr-2",children:"\uD83D\uDD04"}):null,l?"Saving...":"Save Text"]})]})}),(0,i.jsx)(j.M,{children:x&&(0,i.jsxs)(d.E.div,{..."success"===T?p:h,initial:"hidden",animate:"visible",exit:"exit",className:"mt-4 p-4 rounded-lg text-sm flex items-start ".concat("success"===T?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"),children:[(0,i.jsx)("span",{className:"mr-2 mt-0.5",children:"success"===T?"✅":"❌"}),(0,i.jsx)("span",{children:x})]})}),(0,i.jsxs)(E,{direction:"up",delay:.2,className:"mt-8 space-y-4",children:[(0,i.jsxs)(d.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"flex items-center justify-between",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,i.jsx)("span",{className:"mr-2",children:"\uD83D\uDCDD"})," Previous Entries"]}),(0,i.jsxs)("span",{className:"text-sm text-muted-foreground bg-muted px-2 py-1 rounded-full",children:[r.length," ",1===r.length?"entry":"entries"]})]}),n?(0,i.jsx)(d.E.div,{variants:u,initial:"hidden",animate:"visible",className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,i.jsx)(R,{className:"h-24 w-full rounded-xl"},t))}):0===r.length?(0,i.jsxs)(d.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center py-12",children:[(0,i.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDCED"}),(0,i.jsx)("p",{className:"text-muted-foreground text-lg",children:"No entries yet"}),(0,i.jsx)("p",{className:"text-muted-foreground",children:"Be the first to save some text!"})]}):(0,i.jsx)(d.E.div,{variants:u,initial:"hidden",animate:"visible",className:"space-y-4",children:(0,i.jsx)(j.M,{children:r.map(e=>(0,i.jsx)(d.E.div,{variants:m,layout:"position",initial:{opacity:0,height:0,scale:.8},animate:{opacity:1,height:"auto",scale:1},exit:{opacity:0,height:0,scale:.8,transition:{duration:.3}},transition:{duration:.3},children:(0,i.jsx)(D,{className:"hover-lift transition-all duration-300 border-l-4 border-l-primary/50 group",children:(0,i.jsxs)(v,{className:"pt-4 relative",children:[(0,i.jsx)("p",{className:"whitespace-pre-wrap text-base group-hover:text-primary/90 transition-colors duration-200",children:e.content}),(0,i.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,i.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center",children:[(0,i.jsx)("span",{className:"mr-1",children:"\uD83D\uDD50"}),new Date(e.created_at).toLocaleString()]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary/10 text-primary",children:["ID: ",e.id]}),(0,i.jsxs)(C,{variant:"destructive",size:"sm",className:"h-8 w-8 p-0 rounded-full",onClick:async()=>{try{(await fetch("/api/text/".concat(e.id),{method:"DELETE"})).ok?s(r.filter(t=>t.id!==e.id)):console.error("Failed to delete entry")}catch(e){console.error("Error deleting entry:",e)}},children:[(0,i.jsx)("span",{className:"sr-only",children:"Delete"}),(0,i.jsx)("span",{children:"\uD83D\uDDD1️"})]})]})]})]})})},e.id))})})]})]})]})})})]})}}},function(e){e.O(0,[877,971,117,744],function(){return e(e.s=7923)}),_N_E=e.O()}]);